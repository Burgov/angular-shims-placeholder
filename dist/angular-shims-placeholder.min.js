/*! angular-shims-placeholder - v0.2.0 - 2014-04-29
* https://github.com/jrief/angular-shims-placeholder
* Copyright (c) 2014 Jacob Rief; Licensed MIT */
!function(a,b){"use strict";a.module("ng.shims.placeholder",[]).directive("placeholder",function(){if(!a.mock){var c=b.createElement("input");if(void 0!==c.placeholder)return{}}return{restrict:"A",require:"ngModel",priority:1,link:function(b,c,d,e){function f(a){a?(c.removeClass(m),c.val(a)):(c.addClass(m),c.val(l),k&&(c.hide(),i.show(),i.addClass(m)))}function g(){i=a.element("<input/>").attr(a.extend(h(c[0]),{type:"text",value:l,placeholder:"",id:"",name:""})).hide().bind("focus",function(){i.hide(),c.show().focus()}).insertBefore(c),c.bind("blur",function(){c.val()||(c.hide(),i.show())})}function h(a){for(var b=a.attributes,c={},d=/^jQuery\d+/,e=0;e<b.length;e++)b[e].specified&&!d.test(b[e].name)&&(c[b[e].name]=b[e].value);return c}var i,j=d.type,k="password"===j,l=d.placeholder,m="empty";l&&(k&&g(),f(c.val()),e.$setViewValue(c.val()),c.bind("focus",function(){c.hasClass(m)&&(c.val(""),c.removeClass(m+" error"))}),c.bind("blur",function(){var a=c.val();b.$apply(function(){f(a),e.$setViewValue(a)})}),e.$render=function(){f(e.$viewValue)})}}})}(window.angular,window.document);