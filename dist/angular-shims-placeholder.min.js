/*! angular-shims-placeholder - v0.3.1 - 2014-11-03
* https://github.com/jrief/angular-shims-placeholder
* Copyright (c) 2014 Jacob Rief; Licensed MIT */
!function(a,b){"use strict";a.module("ng.shims.placeholder",[]).service("placeholderSniffer",["$document",function(a){this.hasPlaceholder=function(){var b=a[0].createElement("input");return void 0!==b.placeholder}}]).directive("placeholder",["$timeout","placeholderSniffer",function(c,d){return d.hasPlaceholder()?{}:{restrict:"A",require:"?ngModel",priority:1,link:function(d,e,f,g){function h(){var a=e.val();e.hasClass(x)&&a===w||(b.documentMode<=11?c(function(){i(a)},0):i(a))}function i(a){a||s===b.activeElement?(e.removeClass(x),v&&o(),e.val(a)):(e.addClass(x),v?n():e.val(w))}function j(){return g?d.$eval(f.ngModel)||"":k()||""}function k(){var a=e.val();return a===f.placeholder&&(a=""),a}function l(){q=a.element('<input type="text" value="'+w+'"/>'),m(),q.addClass(x).addClass("ng-hide").bind("focus",p),s.parentNode.insertBefore(q[0],s)}function m(){q.val(w).attr("class",e.attr("class")||"").attr("style",e.attr("style")||"")}function n(){m(),e.addClass("ng-hide"),q.removeClass("ng-hide")}function o(){q.addClass("ng-hide"),e.removeClass("ng-hide")}function p(){o(),s.focus()}var q,r=j(),s=e[0],t=s.nodeName.toLowerCase(),u="input"===t||"textarea"===t,v="password"===f.type,w=f.placeholder,x="empty";w&&u&&(v&&l(),i(r),e.bind("focus",function(){e.hasClass(x)&&(e.val(""),e.removeClass(x),s.select())}),e.bind("blur",h),g||e.bind("change",h),g&&(g.$render=function(){i(g.$viewValue),s!==b.activeElement||e.val()||s.select()}))}}}])}(window.angular,window.document);